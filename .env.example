# Server Configuration
PORT=47700
# Where the http port above can be accessed publicly
ISSUER_URL=https://your-domain.com

# OIDC Client Configuration (for Cloudflare Access)
CLIENT_ID=cloudflare-access
CLIENT_SECRET=4Eg3LtsPpS6t7i4Eg3LtsPpS6t7i
REDIRECT_URI=https://your-team-name.cloudflareaccess.com/cdn-cgi/access/callback

# Email format for approved users
# Email domain - use {duration} as placeholder for session duration selected during approval
# Example: {duration}.access-granted.com will produce emails like "20241127123456@1h.access-granted.com"
EMAIL_DOMAIN={duration}.access-granted.com
EMAIL_FORMAT=YYYYMMDDHHmmss

# Session Duration Options (comma-separated)
# Format: 30m, 1h, 12h, 1d, 7d, 30d, long (for permanent/very long sessions)
# These options will be shown in the admin approval page
SESSION_DURATIONS=30m,1h,12h,1d,7d,30d,long
# Default session duration when approving (must be one of SESSION_DURATIONS)
SESSION_DURATION_DEFAULT=1d

# Bark Notification Template
# Placeholders: {body} = notification body, {url} = admin review URL
BARK_URL_TEMPLATE=https://api.day.app/YOUR_BARK_KEY/AuthRequest/{body}?url={url}

# Bark Notification Body Template (optional)
# Available variables:
#   {id}       - Request ID (full UUID)
#   {id_short} - Short request ID (first 8 chars)
#   {ip}       - Client IP address
#   {reason}   - Reason provided by user (or "No reason provided")
#   {device}   - Device/User-Agent info (truncated to 50 chars)
#   {time}     - Request submission time
# Use \n for line breaks
# BARK_BODY_TEMPLATE=ID: {id_short}\nIP: {ip}\n{reason}\nDevice: {device}

# Admin Portal Credentials
ADMIN_USER=a
ADMIN_PASS=aaa
ADMIN_SESSION_HOURS=2160

# JWT Secret (REQUIRED for session persistence across restarts)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=your-secure-random-secret-here

# Optional: Cookie Signing Keys (auto-generated if not set)
# COOKIE_KEY_1=your-random-key-1
# COOKIE_KEY_2=your-random-key-2

# Optional: Database Path
# DB_PATH=./data.db

# Optional: Enable debug logging
# DEBUG=1
